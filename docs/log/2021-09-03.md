---
title: 每天都有解决不完的问题：2021年9月3日
date: 2021-09-03 13:14:54

categories: log
---

{% blockquote (彼得前书-4:10 %}
各人要照所得的恩赐彼此服侍，作神百般恩赐的好管家。
{% endblockquote %}

## python 多行字符串对齐

没好的办法

```python
s = "xxxxxxxxxxxxxxxxxxx" \
    "xxxxxxxxxxxxxxxxxxxx" \
    "xxxxxxxxxxxxxxxxxxxxx"
```

## antd 日期范围选择和时间间隔选择

```jsx
function getDefaultDateRange() {
  const d1 = moment(Date.now()).format(dateFormat);
  const d2 = moment(Date.now() - 7 * 24 * 3600 * 1000).format(dateFormat);
  return [d1, d2];
}

function onDateRangeChange(momments, dates) {
  setDateRange(dates);
}

function onIntervalChange(e) {
  setInterval(e.target.value);
}

<Form layout="inline">
  <Form.Item label="时间范围">
    <RangePicker
      onChange={onDateRangeChange}
      defaultValue={[
        moment(dateRange[0], dateFormat),
        moment(dateRange[1], dateFormat),
      ]}
    />
  </Form.Item>
  <Form.Item label="间隔">
    <Select onChange={onIntervalChange} defaultValue={interval}>
      <Option value="month">月度</Option>
      <Option value="weeek">周度</Option>
      <Option value="day">日度</Option>
    </Select>
  </Form.Item>
</Form>;
```

## python 周一和初一

```python
import datetime
from datetime import timedelta

def get_date_week_month(trading_day):
    dt = datetime.datetime.strptime(trading_day, '%Y%m%d')
    date = dt.strftime('%Y/%m/%d')
    week_begin = (dt - timedelta(days=dt.weekday())).strftime('%Y/%m/%d')
    month_begin = (dt - timedelta(days=dt.day - 1)).strftime('%Y/%m/%d')
    return date, week_begin, month_begin

>>> get_date_week_month('20210903')
 ('2021/09/03', '2021/08/30', '2021/09/01')
```
