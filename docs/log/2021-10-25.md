---
title: 问题日志：2021年10月25日
date: 2021-10-25 07:00:17

  - gitee
categories: log
---

## 最新版 git 与 gitee 不兼容

2021 年 09 月 26 日发布的 OpenSSH 8.8 中移除了对 RSA-SHA1 的支持
最新的 git for windows 2.33.1 版本已使用 OpenSSH 8.8

我们使用 golang.org/x/crypto/ssh 来从 public key 中提取出指纹，以此从 Gitee 主应用兑换用户信息

而这个库目前（2021-10-12）还没有支持 RSA-SHA2 算法，因此会获取不到指纹，导致用户校验失败

### 方案一

在 ~/.ssh/config 加上如下配置

```
Host gitee.com
HostkeyAlgorithms +ssh-rsa
PubkeyAcceptedAlgorithms +ssh-rsa
```

### 方法二

换用其他算法生成 ssh key

```sh
ssh-keygen -t ed25519 -C "your@example.email"
```
